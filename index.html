<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ÙƒØ§ÙØªÙŠØ±ÙŠØ§ Ø§Ù„Ø®ÙŠØ±</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #f5f5f5; direction: rtl; }
    .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 15px; }
    
    /* Header */
    .header { background: white; padding: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 1000; }
    .header .container { display: flex; justify-content: space-between; align-items: center; }
    .logo { font-size: 1.8rem; font-weight: bold; color: #2ecc71; display: flex; align-items: center; gap: 10px; }
    .header-buttons { display: flex; gap: 10px; }
    .btn { padding: 10px 20px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: 0.3s; }
    .btn-primary { background: #2ecc71; color: white; }
    .btn-secondary { background: #7f8c8d; color: white; }
    .btn-danger { background: #e74c3c; color: white; }
    
    /* Hero Section */
    .hero { background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'); background-size: cover; background-position: center; color: white; padding: 80px 0; text-align: center; }
    .hero h1 { font-size: 2.5rem; margin-bottom: 20px; }
    .hero p { font-size: 1.2rem; margin-bottom: 30px; opacity: 0.9; }
    .hero .btn { background: #2ecc71; color: white; padding: 15px 40px; font-size: 1.1rem; }
    
    /* Categories */
    .categories { padding: 20px 0; overflow-x: auto; white-space: nowrap; }
    .category-btn { display: inline-block; padding: 10px 25px; margin: 0 5px; background: white; border: 2px solid #2ecc71; border-radius: 25px; color: #2ecc71; font-weight: 600; cursor: pointer; }
    .category-btn.active { background: #2ecc71; color: white; }
    
    /* Products */
    .products { padding: 40px 0; }
    .products h2 { text-align: center; margin-bottom: 30px; color: #333; font-size: 2rem; }
    .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
    .product-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 3px 10px rgba(0,0,0,0.1); position: relative; }
    .product-img { width: 100%; height: 180px; object-fit: cover; }
    .product-info { padding: 15px; }
    .product-title { font-size: 1.2rem; margin-bottom: 10px; color: #333; }
    .product-desc { color: #666; font-size: 0.9rem; margin-bottom: 15px; }
    .product-footer { display: flex; justify-content: space-between; align-items: center; }
    .product-price { font-size: 1.3rem; font-weight: bold; color: #2ecc71; }
    .add-to-cart { background: #2ecc71; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; }
    
    /* Admin Controls */
    .admin-controls { position: absolute; top: 10px; left: 10px; display: none; gap: 5px; }
    .admin-btn { width: 30px; height: 30px; border-radius: 50%; border: none; color: white; cursor: pointer; }
    .edit-btn { background: #3498db; }
    .delete-btn { background: #e74c3c; }
    
    /* Admin Panel */
    .admin-panel { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; display: none; align-items: center; justify-content: center; padding: 20px; }
    .admin-content { background: white; border-radius: 10px; width: 90%; max-width: 800px; max-height: 90vh; overflow-y: auto; padding: 20px; }
    .admin-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #2ecc71; }
    .admin-title { color: #2ecc71; font-size: 1.5rem; }
    .close-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; }
    .tabs { display: flex; gap: 5px; margin-bottom: 20px; flex-wrap: wrap; }
    .tab { padding: 10px 20px; background: #f5f5f5; border: none; border-radius: 5px; cursor: pointer; }
    .tab.active { background: #2ecc71; color: white; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .form-group { margin-bottom: 15px; }
    .form-label { display: block; margin-bottom: 5px; font-weight: 600; }
    .form-input, .form-textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
    
    /* Login Modal */
    .login-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; display: none; align-items: center; justify-content: center; }
    .login-content { background: white; padding: 30px; border-radius: 10px; width: 90%; max-width: 400px; text-align: center; }
    .login-input { width: 100%; padding: 15px; margin: 15px 0; border: 1px solid #ddd; border-radius: 5px; text-align: center; }
    
    /* Footer */
    .footer { background: #2c3e50; color: white; padding: 40px 0 20px; margin-top: 50px; }
    .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-bottom: 30px; }
    .footer h4 { color: #2ecc71; margin-bottom: 15px; }
    .copyright { text-align: center; padding-top: 20px; border-top: 1px solid #34495e; color: #95a5a6; }
    
    /* Responsive */
    @media (max-width: 768px) {
      .product-grid { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); }
      .hero h1 { font-size: 2rem; }
      .header-buttons { flex-direction: column; }
    }
    @media (max-width: 480px) {
      .product-grid { grid-template-columns: 1fr; }
      .tabs { flex-direction: column; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="logo">ğŸ¥¤ ÙƒØ§ÙØªÙŠØ±ÙŠØ§ Ø§Ù„Ø®ÙŠØ±</div>
      <div class="header-buttons">
        <button id="adminBtn" class="btn btn-secondary" style="display:none">ğŸ”§ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
        <button id="logoutBtn" class="btn btn-danger" style="display:none">ğŸšª Ø®Ø±ÙˆØ¬</button>
        <button class="btn btn-primary">ğŸ›’ Ø§Ù„Ø³Ù„Ø© (<span id="cartCount">0</span>)</button>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1 id="heroTitle">Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© Ø¹ØµØ§Ø¦Ø± ÙØ§Ø®Ø±Ø© Ù„Ø§ ØªÙÙ†Ø³Ù‰! ğŸ¹</h1>
      <p id="heroText">Ø§ÙƒØªØ´Ù Ø¹Ø§Ù„Ù…Ù‹Ø§ Ù…Ù† Ø§Ù„Ù†ÙƒÙ‡Ø§Øª Ø§Ù„Ø±Ø§Ù‚ÙŠØ© Ù…Ø¹ Ø¹ØµØ§Ø¦Ø±Ù†Ø§ Ø§Ù„Ø·Ø§Ø²Ø¬Ø© Ø§Ù„ÙØ§Ø®Ø±Ø© ÙˆØ³Ù†Ø¯ÙˆØªØ´Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</p>
      <a href="#products" class="btn">Ø§Ø¨Ø¯Ø£ ØªØ¬Ø±Ø¨ØªÙƒ Ø§Ù„ÙØ§Ø®Ø±Ø© Ø§Ù„Ø¢Ù†</a>
    </div>
  </section>

  <!-- Categories -->
  <section class="container">
    <div id="categories" class="categories">
      <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
    </div>
  </section>

  <!-- Products -->
  <section id="products" class="products container">
    <h2>ğŸ½ï¸ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
    <div id="productGrid" class="product-grid">
      <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div>
          <h4>ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h4>
          <p>ğŸ“ Ø§ØªØµØ§Ù„: +967730528609</p>
          <p>ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨: +967730528609</p>
        </div>
        <div>
          <h4>ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</h4>
          <p>Ø§Ù„ÙŠÙ…Ù† â€“ ØªØ¹Ø² â€“ Ø¯Ù…Ù†Ø© Ø®Ø¯ÙŠØ± â€“ Ø§Ù„ÙƒÙ…Ø¨</p>
          <p>Ø£Ù…Ø§Ù… Ø§Ù„Ù…Ù„Ùƒ ÙÙˆÙ† â€“ Ø¬ÙˆØ§Ø± ØµÙŠØ¯Ù„ÙŠØ© Ø§Ù„Ø¹ÙÙŠÙÙŠ</p>
        </div>
      </div>
      <div class="copyright">Â© 2024 ÙƒØ§ÙØªÙŠØ±ÙŠØ§ Ø§Ù„Ø®ÙŠØ±. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</div>
    </div>
  </footer>

  <!-- Login Modal -->
  <div id="loginModal" class="login-modal">
    <div class="login-content">
      <h2 style="color:#2ecc71; margin-bottom:20px">ğŸ”’ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ø§Ù„Ùƒ</h2>
      <input type="password" id="passwordInput" class="login-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
      <button id="loginBtn" class="btn btn-primary" style="width:100%; padding:15px">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
      <p style="margin-top:20px; color:#666; font-size:0.9rem">Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¹Ø§Ø¯ÙŠÙŠÙ†: ÙŠÙ…ÙƒÙ†ÙƒÙ… Ø§Ù„ØªØµÙØ­ Ø¯ÙˆÙ† ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</p>
    </div>
  </div>

  <!-- Admin Panel -->
  <div id="adminPanel" class="admin-panel">
    <div class="admin-content">
      <div class="admin-header">
        <h2 class="admin-title">ğŸ‘‘ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø§Ù„Ùƒ</h2>
        <button class="close-btn" id="closeAdmin">âœ•</button>
      </div>
      
      <div class="tabs">
        <button class="tab active" data-tab="dashboard">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
        <button class="tab" data-tab="productsTab">ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button>
        <button class="tab" data-tab="addProduct">â• Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</button>
        <button class="tab" data-tab="categoriesTab">ğŸ·ï¸ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</button>
        <button class="tab" data-tab="heroTab">ğŸ  Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©</button>
      </div>
      
      <!-- Dashboard Tab -->
      <div id="dashboard" class="tab-content active">
        <h3 style="margin-bottom:20px">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h3>
        <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(150px, 1fr)); gap:15px; margin-bottom:20px">
          <div style="background:#f5f5f5; padding:20px; border-radius:10px; text-align:center">
            <div style="font-size:2rem; color:#2ecc71" id="totalProducts">0</div>
            <div>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</div>
          </div>
          <div style="background:#f5f5f5; padding:20px; border-radius:10px; text-align:center">
            <div style="font-size:2rem; color:#2ecc71" id="totalCategories">0</div>
            <div>Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</div>
          </div>
        </div>
        <button onclick="syncToCloud()" class="btn btn-primary">â˜ï¸ Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
      </div>
      
      <!-- Products Management Tab -->
      <div id="productsTab" class="tab-content">
        <h3 style="margin-bottom:20px">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
        <div id="productsList">
          <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
        </div>
      </div>
      
      <!-- Add Product Tab -->
      <div id="addProduct" class="tab-content">
        <h3 style="margin-bottom:20px">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h3>
        <form id="addProductForm">
          <div class="form-group">
            <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</label>
            <input type="text" class="form-input" id="productName" required>
          </div>
          <div class="form-group">
            <label class="form-label">Ø§Ù„ÙˆØµÙ</label>
            <textarea class="form-textarea" id="productDescription" required></textarea>
          </div>
          <div class="form-group">
            <label class="form-label">Ø§Ù„Ø³Ø¹Ø± (Ø±ÙŠØ§Ù„)</label>
            <input type="number" class="form-input" id="productPrice" required min="1">
          </div>
          <div class="form-group">
            <label class="form-label">Ø§Ù„ØªØµÙ†ÙŠÙ</label>
            <select class="form-input" id="productCategory" required>
              <option value="">Ø§Ø®ØªØ± ØªØµÙ†ÙŠÙ</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ (Ø±Ø§Ø¨Ø· URL)</label>
            <input type="text" class="form-input" id="productImage" placeholder="https://example.com/image.jpg" required>
          </div>
          <button type="submit" class="btn btn-primary" style="width:100%; margin-top:10px">â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬</button>
        </form>
      </div>
      
      <!-- Categories Tab -->
      <div id="categoriesTab" class="tab-content">
        <h3 style="margin-bottom:20px">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</h3>
        <div class="form-group">
          <input type="text" class="form-input" id="newCategory" placeholder="Ø§Ø³Ù… Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø¬Ø¯ÙŠØ¯">
          <button onclick="addCategory()" class="btn btn-primary" style="margin-top:10px; width:100%">â• Ø¥Ø¶Ø§ÙØ© ØªØµÙ†ÙŠÙ</button>
        </div>
        <div id="categoriesList" style="margin-top:20px">
          <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
        </div>
      </div>
      
      <!-- Hero Tab -->
      <div id="heroTab" class="tab-content">
        <h3 style="margin-bottom:20px">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©</h3>
        <form id="heroForm">
          <div class="form-group">
            <label class="form-label">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©</label>
            <input type="text" class="form-input" id="heroTitleInput" required>
          </div>
          <div class="form-group">
            <label class="form-label">Ù†Øµ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©</label>
            <textarea class="form-textarea" id="heroTextInput" required></textarea>
          </div>
          <div class="form-group">
            <label class="form-label">ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø±Ø§Ø¨Ø· URL)</label>
            <input type="text" class="form-input" id="heroImageInput" required>
          </div>
          <button type="submit" class="btn btn-primary" style="width:100%; margin-top:10px">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Edit Product Modal -->
  <div id="editModal" class="admin-panel">
    <div class="admin-content" style="max-width:500px">
      <div class="admin-header">
        <h2 class="admin-title">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬</h2>
        <button class="close-btn" onclick="closeEditModal()">âœ•</button>
      </div>
      <form id="editProductForm">
        <input type="hidden" id="editProductId">
        <div class="form-group">
          <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</label>
          <input type="text" class="form-input" id="editProductName" required>
        </div>
        <div class="form-group">
          <label class="form-label">Ø§Ù„ÙˆØµÙ</label>
          <textarea class="form-textarea" id="editProductDescription" required></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Ø§Ù„Ø³Ø¹Ø± (Ø±ÙŠØ§Ù„)</label>
          <input type="number" class="form-input" id="editProductPrice" required min="1">
        </div>
        <div class="form-group">
          <label class="form-label">Ø§Ù„ØªØµÙ†ÙŠÙ</label>
          <select class="form-input" id="editProductCategory" required></select>
        </div>
        <div class="form-group">
          <label class="form-label">ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ (Ø±Ø§Ø¨Ø· URL)</label>
          <input type="text" class="form-input" id="editProductImage" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width:100%; margin-top:10px">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
      </form>
    </div>
  </div>

<script>
// ===== Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© =====
const ADMIN_PASSWORD = "123456";
const ADMIN_TOKEN = "kafeteria_admin";
let products = JSON.parse(localStorage.getItem('products')) || [];
let categories = JSON.parse(localStorage.getItem('categories')) || ["Ø¹ØµØ§Ø¦Ø±", "Ø³Ù†Ø¯ÙˆØªØ´Ø§Øª", "Ø¨ÙŠØªØ²Ø§", "Ø¨Ø±Ø¬Ø±", "Ø­Ù„ÙˆÙŠØ§Øª"];
let heroData = JSON.parse(localStorage.getItem('heroData')) || {
  title: "Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© Ø¹ØµØ§Ø¦Ø± ÙØ§Ø®Ø±Ø© Ù„Ø§ ØªÙÙ†Ø³Ù‰! ğŸ¹",
  text: "Ø§ÙƒØªØ´Ù Ø¹Ø§Ù„Ù…Ù‹Ø§ Ù…Ù† Ø§Ù„Ù†ÙƒÙ‡Ø§Øª Ø§Ù„Ø±Ø§Ù‚ÙŠØ© Ù…Ø¹ Ø¹ØµØ§Ø¦Ø±Ù†Ø§ Ø§Ù„Ø·Ø§Ø²Ø¬Ø© Ø§Ù„ÙØ§Ø®Ø±Ø© ÙˆØ³Ù†Ø¯ÙˆØªØ´Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©",
  image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
};
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let isAdmin = localStorage.getItem(ADMIN_TOKEN) === ADMIN_PASSWORD;
let currentCategory = "Ø§Ù„ÙƒÙ„";

// ===== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ =====
document.addEventListener('DOMContentLoaded', function() {
  initApp();
  loadProducts();
  updateUI();
  if (!isAdmin) showLoginModal();
});

// ===== Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© =====
function initApp() {
  // Ø¥Ø¶Ø§ÙØ© Ø¹ÙŠÙ†Ø§Øª Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù…Ù†ØªØ¬Ø§Øª
  if (products.length === 0) {
    products = [
      {id: 1, name: "Ø¹ØµÙŠØ± Ø¨Ø±ØªÙ‚Ø§Ù„ Ø·Ø§Ø²Ø¬", description: "Ø¹ØµÙŠØ± Ø¨Ø±ØªÙ‚Ø§Ù„ Ø·Ø¨ÙŠØ¹ÙŠ 100%", price: 500, category: "Ø¹ØµØ§Ø¦Ø±", image: "https://images.unsplash.com/photo-1623065687346-7e23c4c2b19b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"},
      {id: 2, name: "Ø³Ù†Ø¯ÙˆÙŠØªØ´ Ø¬Ø¨Ù†Ø©", description: "Ø¬Ø¨Ù†Ø© Ø´ÙŠØ¯Ø± Ù…Ø¹ Ø®Ø¶Ø§Ø± Ø·Ø§Ø²Ø¬Ø©", price: 1500, category: "Ø³Ù†Ø¯ÙˆØªØ´Ø§Øª", image: "https://images.unsplash.com/photo-1567234669003-dce7a7a88821?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"}
    ];
    saveData();
  }
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡ÙŠØ¯Ø±
  document.getElementById('heroTitle').textContent = heroData.title;
  document.getElementById('heroText').textContent = heroData.text;
  document.querySelector('.hero').style.backgroundImage = `linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('${heroData.image}')`;
  
  // Ø¥Ø¹Ø¯Ø§Ø¯ Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
  document.getElementById('adminBtn')?.addEventListener('click', () => {
    if (!isAdmin) return showLoginModal();
    document.getElementById('adminPanel').style.display = 'flex';
    updateAdminPanel();
  });
  
  document.getElementById('closeAdmin')?.addEventListener('click', () => {
    document.getElementById('adminPanel').style.display = 'none';
  });
  
  document.getElementById('loginBtn')?.addEventListener('click', login);
  document.getElementById('logoutBtn')?.addEventListener('click', logout);
  
  document.getElementById('passwordInput')?.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') login();
  });
  
  // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
  document.querySelectorAll('.tab').forEach(tab => {
    tab.addEventListener('click', () => {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      tab.classList.add('active');
      document.getElementById(tab.dataset.tab).classList.add('active');
    });
  });
  
  // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
  document.getElementById('addProductForm')?.addEventListener('submit', addProduct);
  document.getElementById('heroForm')?.addEventListener('submit', updateHero);
  document.getElementById('editProductForm')?.addEventListener('submit', saveProductEdit);
}

function updateUI() {
  // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø§Ù„Ùƒ
  document.getElementById('adminBtn').style.display = isAdmin ? 'block' : 'none';
  document.getElementById('logoutBtn').style.display = isAdmin ? 'block' : 'none';
  
  // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø³Ù„Ø©
  document.getElementById('cartCount').textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
  updateCategories();
  
  // ØªØ­Ø¯ÙŠØ« Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
  updateAdminPanel();
}

function updateCategories() {
  const container = document.getElementById('categories');
  if (!container) return;
  
  container.innerHTML = '';
  ['Ø§Ù„ÙƒÙ„', ...categories].forEach(cat => {
    const btn = document.createElement('button');
    btn.className = `category-btn ${currentCategory === cat ? 'active' : ''}`;
    btn.textContent = cat;
    btn.onclick = () => {
      currentCategory = cat;
      loadProducts();
      updateCategories();
    };
    container.appendChild(btn);
  });
}

function loadProducts() {
  const container = document.getElementById('productGrid');
  if (!container) return;
  
  container.innerHTML = '';
  const filtered = currentCategory === 'Ø§Ù„ÙƒÙ„' ? products : products.filter(p => p.category === currentCategory);
  
  filtered.forEach(product => {
    const card = document.createElement('div');
    card.className = 'product-card';
    
    // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„Ù…Ø§Ù„Ùƒ
    const adminControls = isAdmin ? `
      <div class="admin-controls" style="display:flex">
        <button class="admin-btn edit-btn" onclick="editProduct(${product.id})">âœï¸</button>
        <button class="admin-btn delete-btn" onclick="deleteProduct(${product.id})">ğŸ—‘ï¸</button>
      </div>
    ` : '';
    
    card.innerHTML = `
      ${adminControls}
      <img src="${product.image}" alt="${product.name}" class="product-img">
      <div class="product-info">
        <h3 class="product-title">${product.name}</h3>
        <p class="product-desc">${product.description}</p>
        <div class="product-footer">
          <span class="product-price">${product.price} Ø±ÙŠØ§Ù„</span>
          <button class="add-to-cart" onclick="addToCart(${product.id})">+ Ø¥Ø¶Ø§ÙØ©</button>
        </div>
      </div>
    `;
    container.appendChild(card);
  });
}

function updateAdminPanel() {
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  document.getElementById('totalProducts').textContent = products.length;
  document.getElementById('totalCategories').textContent = categories.length;
  
  // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
  const productsList = document.getElementById('productsList');
  if (productsList) {
    productsList.innerHTML = products.map(p => `
      <div style="background:#f5f5f5; padding:15px; margin:10px 0; border-radius:8px; display:flex; justify-content:space-between; align-items:center">
        <div>
          <strong>${p.name}</strong><br>
          <small>${p.category} - ${p.price} Ø±ÙŠØ§Ù„</small>
        </div>
        <div>
          <button onclick="editProduct(${p.id})" class="btn btn-primary" style="padding:5px 10px; margin-right:5px">ØªØ¹Ø¯ÙŠÙ„</button>
          <button onclick="deleteProduct(${p.id})" class="btn btn-danger" style="padding:5px 10px">Ø­Ø°Ù</button>
        </div>
      </div>
    `).join('');
  }
  
  // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
  const categoriesList = document.getElementById('categoriesList');
  if (categoriesList) {
    categoriesList.innerHTML = categories.map((cat, i) => `
      <div style="background:#f5f5f5; padding:10px 15px; margin:5px 0; border-radius:8px; display:flex; justify-content:space-between; align-items:center">
        <span>${cat}</span>
        <button onclick="removeCategory(${i})" style="background:#e74c3c; color:white; border:none; border-radius:50%; width:25px; height:25px; cursor:pointer">Ã—</button>
      </div>
    `).join('');
  }
  
  // ØªØ­Ø¯ÙŠØ« Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
  document.getElementById('productCategory').innerHTML = 
    '<option value="">Ø§Ø®ØªØ± ØªØµÙ†ÙŠÙ</option>' + 
    categories.map(c => `<option value="${c}">${c}</option>`).join('');
  
  document.getElementById('editProductCategory').innerHTML = 
    '<option value="">Ø§Ø®ØªØ± ØªØµÙ†ÙŠÙ</option>' + 
    categories.map(c => `<option value="${c}">${c}</option>`).join('');
  
  document.getElementById('heroTitleInput').value = heroData.title;
  document.getElementById('heroTextInput').value = heroData.text;
  document.getElementById('heroImageInput').value = heroData.image;
}

// ===== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø§Ù„Ùƒ =====
function showLoginModal() {
  document.getElementById('loginModal').style.display = 'flex';
  document.getElementById('passwordInput').focus();
}

function hideLoginModal() {
  document.getElementById('loginModal').style.display = 'none';
  document.getElementById('passwordInput').value = '';
}

function login() {
  const password = document.getElementById('passwordInput').value;
  if (password === ADMIN_PASSWORD) {
    isAdmin = true;
    localStorage.setItem(ADMIN_TOKEN, password);
    updateUI();
    hideLoginModal();
    showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‘‘');
  } else {
    alert('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!');
  }
}

function logout() {
  if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
    isAdmin = false;
    localStorage.removeItem(ADMIN_TOKEN);
    updateUI();
    showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‘‹');
  }
}

function addProduct(e) {
  e.preventDefault();
  const name = document.getElementById('productName').value;
  const description = document.getElementById('productDescription').value;
  const price = parseInt(document.getElementById('productPrice').value);
  const category = document.getElementById('productCategory').value;
  const image = document.getElementById('productImage').value;
  
  if (!name || !description || !price || !category || !image) {
    alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„!');
    return;
  }
  
  const newProduct = {
    id: products.length ? Math.max(...products.map(p => p.id)) + 1 : 1,
    name,
    description,
    price,
    category,
    image
  };
  
  products.push(newProduct);
  saveData();
  loadProducts();
  updateAdminPanel();
  
  // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
  e.target.reset();
  document.querySelector('[data-tab="productsTab"]').click();
  showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­! âœ“');
}

function editProduct(id) {
  if (!isAdmin) return showLoginModal();
  
  const product = products.find(p => p.id === id);
  if (!product) return;
  
  document.getElementById('editProductId').value = product.id;
  document.getElementById('editProductName').value = product.name;
  document.getElementById('editProductDescription').value = product.description;
  document.getElementById('editProductPrice').value = product.price;
  document.getElementById('editProductCategory').value = product.category;
  document.getElementById('editProductImage').value = product.image;
  
  document.getElementById('editModal').style.display = 'flex';
}

function saveProductEdit(e) {
  e.preventDefault();
  const id = parseInt(document.getElementById('editProductId').value);
  const product = products.find(p => p.id === id);
  
  if (product) {
    product.name = document.getElementById('editProductName').value;
    product.description = document.getElementById('editProductDescription').value;
    product.price = parseInt(document.getElementById('editProductPrice').value);
    product.category = document.getElementById('editProductCategory').value;
    product.image = document.getElementById('editProductImage').value;
    
    saveData();
    loadProducts();
    updateAdminPanel();
    closeEditModal();
    showNotification('ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­! âœ“');
  }
}

function closeEditModal() {
  document.getElementById('editModal').style.display = 'none';
}

function deleteProduct(id) {
  if (!isAdmin) return showLoginModal();
  
  if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) {
    products = products.filter(p => p.id !== id);
    saveData();
    loadProducts();
    updateAdminPanel();
    showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­! âœ“');
  }
}

function addCategory() {
  const input = document.getElementById('newCategory');
  const category = input.value.trim();
  
  if (!category) {
    alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„ØªØµÙ†ÙŠÙ!');
    return;
  }
  
  if (categories.includes(category)) {
    alert('Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„!');
    return;
  }
  
  categories.push(category);
  saveData();
  updateCategories();
  updateAdminPanel();
  input.value = '';
  showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØµÙ†ÙŠÙ Ø¨Ù†Ø¬Ø§Ø­! âœ“');
}

function removeCategory(index) {
  if (!isAdmin) return showLoginModal();
  
  if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙØŸ')) {
    const category = categories[index];
    // Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙ
    products = products.filter(p => p.category !== category);
    categories.splice(index, 1);
    saveData();
    loadProducts();
    updateCategories();
    updateAdminPanel();
    showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„ØªØµÙ†ÙŠÙ Ø¨Ù†Ø¬Ø§Ø­! âœ“');
  }
}

function updateHero(e) {
  e.preventDefault();
  heroData.title = document.getElementById('heroTitleInput').value;
  heroData.text = document.getElementById('heroTextInput').value;
  heroData.image = document.getElementById('heroImageInput').value;
  
  saveData();
  document.getElementById('heroTitle').textContent = heroData.title;
  document.getElementById('heroText').textContent = heroData.text;
  document.querySelector('.hero').style.backgroundImage = `linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('${heroData.image}')`;
  showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­! âœ“');
}

// ===== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† =====
function addToCart(productId) {
  const product = products.find(p => p.id === productId);
  if (!product) return;
  
  const item = cart.find(i => i.id === productId);
  if (item) {
    item.quantity += 1;
  } else {
    cart.push({...product, quantity: 1});
  }
  
  localStorage.setItem('cart', JSON.stringify(cart));
  document.getElementById('cartCount').textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
  showNotification('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©! ğŸ›’');
}

// ===== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© =====
function saveData() {
  localStorage.setItem('products', JSON.stringify(products));
  localStorage.setItem('categories', JSON.stringify(categories));
  localStorage.setItem('heroData', JSON.stringify(heroData));
}

function syncToCloud() {
  const data = {
    products,
    categories,
    heroData,
    syncedAt: new Date().toISOString()
  };
  
  localStorage.setItem('kafeteria_backup', JSON.stringify(data));
  showNotification('âœ… ØªÙ… Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
}

function showNotification(message) {
  // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
  const notification = document.createElement('div');
  notification.style.cssText = `
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #2ecc71;
    color: white;
    padding: 15px 30px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    z-index: 10000;
    font-weight: bold;
    animation: slideIn 0.3s ease;
  `;
  notification.textContent = message;
  document.body.appendChild(notification);
  
  // Ø¥Ø¶Ø§ÙØ© Ø±Ø³ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ©
  const style = document.createElement('style');
  style.textContent = `
    @keyframes slideIn {
      from { transform: translateX(-50%) translateY(-20px); opacity: 0; }
      to { transform: translateX(-50%) translateY(0); opacity: 1; }
    }
    @keyframes slideOut {
      from { transform: translateX(-50%) translateY(0); opacity: 1; }
      to { transform: translateX(-50%) translateY(-20px); opacity: 0; }
    }
  `;
  document.head.appendChild(style);
  
  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù
  setTimeout(() => {
    notification.style.animation = 'slideOut 0.3s ease';
    setTimeout(() => notification.remove(), 300);
  }, 3000);
}
</script>
</body>
  </html>
